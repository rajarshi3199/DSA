class Solution:
    def separateSquares(self, squares: list[list[int]]) -> float:
        # Calculate total area to find the target (half)
        total_area = sum(l * l for x, y, l in squares)
        target = total_area / 2
        
        # Binary search range: from the lowest possible y to the highest possible y
        low = min(y for x, y, l in squares)
        high = max(y + l for x, y, l in squares)
        
        # Use a fixed number of iterations (e.g., 100) to guarantee 10^-5 precision
        for _ in range(100):
            mid = (low + high) / 2
            
            # Calculate total area below the horizontal line y = mid
            area_below = 0
            for x, y, l in squares:
                if mid <= y:
                    continue
                elif mid >= y + l:
                    area_below += l * l
                else:
                    area_below += l * (mid - y)
            
            # Adjust binary search range
            if area_below < target:
                low = mid
            else:
                high = mid
                
        return low
